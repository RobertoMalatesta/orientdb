<div class="container-fluid" ng-controller="SettingsController">
    <div class="row-fluid title">
        <h3>
            <i class=" icon-gear"></i>
            {{ 'dashboard.settings' | i18n }}

            <button class="btn pull-right" ng-click="saveSettings()">Save</button>
        </h3>
        <hr>
    </div>
    <div class="row-fluid">
        <ul class="nav nav-tabs">
            <li ng-class="{ active : 'dashboard' == currentTab }"><a href="javascript:void(0)" ng-click="currentTab = 'dashboard'"
                                                                     data-toggle="tab">{{ 'dashboard' |
                i18n }}</a></li>
            <li ng-class="{ active : 'metrics' == currentTab }"><a href="javascript:void(0)" ng-click="currentTab = 'metrics'"
                                                                   data-toggle="tab">{{
                'dashboard.metrics' | i18n }}</a></li>
        </ul>
    </div>

    <div class="row-fluid" ng-show="currentTab == 'metrics'">

        <div class="gridStyle" ng-grid="gridOptions"></div>

    </div>

    <div class="row-fluid" ng-show="currentTab == 'dashboard'">
        <div class="span4">

            <div class="widget boxed blue">
                <div class="widget-title">
                    <div class="widget-caption">
                        <i class="icon-reorder"></i>
                        {{ 'dashboard.config.available' | i18n }}
                    </div>
                </div>
                <div class="widget-body">
                    <table class="table table-striped  table-hover table-condensed table-nocolor">
                        <thead>
                        <tr>
                            <th>{{ 'dashboard.metric.name' | i18n }}</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="metr in savedMetrics">
                            <td>{{metr.name}}</td>
                            <td>
                                <a href="javascript:void(0)" class="btn-small" ng-click="selectConfig(metr)"><i
                                        class="icon-plus-sign"></i></a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="text-right">
                        <a href="#/dashboard/metrics">View All Metrics <i class="icon-share"></i></a>
                </div>
            </div>

        </div>
        <div class="span8">

            <div class="widget boxed blue">
                <div class="widget-title">
                    <div class="widget-caption">
                        <i class="icon-reorder"></i>
                        {{ 'dashboard.preview' | i18n }}
                    </div>
                </div>
                <div class="widget-body">

                    <div class="row-fluid">
                        <div class="span4 box" ng-repeat="metr in config.metrics">
                            <div class="span12">
                                <div class="span10">
                                    <h4>{{ metr.name }}</h4>
                                </div>
                                <div class="span2">
                                    <a href="javascript:void(0)" ng-click="deleteConfig(metr);"><i
                                            class="icon-remove pull-right"></i></a>
                                </div>
                            </div>
                            <div class="span12">
                                <ul class="nav nav-pills nav-stacked">
                                    <li ng-repeat="c in metr.config">{{ c.name }} ( {{ c.field }} )</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>