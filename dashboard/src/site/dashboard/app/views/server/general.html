<div class="container-fluid" ng-controller="GeneralMonitorController">
    <h3>
        <i class=" icon-eye-open"></i>
        {{ 'general.title' | i18n }}
    </h3>
    <hr>
    <div class="row-fluid well">

        <label for="serverOnline" class="span2">{{ 'queryprofiler.server' | i18n }}</label>
        <select id="serverOnline" ui-select2 ng-model="server" class="span2" ng-options="s.name for s in servers"
                data-placeholder="Pick a Server"></select>

        <div class="span3"><span>{{ 'general.serverUp' | i18n }}</span></div>
        <div class="span3"><span>{{ 'general.lastMsg' | i18n }}</span></div>
    </div>

    <ul class="nav nav-tabs">
        <li ng-class="{ active : 'overview' == currentTab }"><a href="#home" ng-click="currentTab = 'overview'"
                                                                data-toggle="tab">{{ 'general.overview' |
            i18n }}</a></li>
        <li ng-class="{ active : 'databases' == currentTab }"><a href="#messages" ng-click="currentTab = 'databases'"
                                                                 data-toggle="tab">{{
            'general.databases' | i18n }}</a></li>
        <li ng-class="{ active : 'logs' == currentTab }"><a href="#profile" ng-click="currentTab = 'logs'"
                                                            data-toggle="tab">{{ 'general.logs' | i18n
            }}</a></li>
        <li ng-class="{ active : 'configuration' == currentTab }"><a href="#messages"
                                                                     ng-click="currentTab = 'configuration'"
                                                                     data-toggle="tab">{{
            'general.configuration' | i18n }}</a></li>
    </ul>
    <div class="row-fluid" ng-show="'configuration' == currentTab">
        <div class="span12">
            <div class="widget">
                <div class="widget-title">
                    <div class="widget-caption">
                        <i class="icon-bolt"></i>
                        {{ 'server.configuration' | i18n }}
                    </div>
                    <div class="actions">
                        <a class="btn btn-inverse  pull-right"
                           href="javascript:void(0)" ng-click="saveConfig()">
                            <i class="icon-save"> {{ 'server.configuration.save' | i18n }}</i>
                        </a>
                    </div>
                </div>
                <div class="widget-body">
                    <textarea ui-codemirror="editorOptions" ng-model="configuration"></textarea>
                </div>

            </div>

        </div>
    </div>
    <div class="row-fluid" ng-show="'overview' == currentTab">
        <div class="span12">
            <div class="widget">
                <div class="widget-title">
                    <div class="widget-caption">
                        <i class="icon-bolt"></i>
                        {{ 'server.operations' | i18n }}
                    </div>
                </div>
                <div class="widget-body">
                    <svg class="span12" height='400' preserveAspectRatio="none" stackedchart="serverLoad"></svg>
                </div>

            </div>

        </div>
    </div>

    <div class="row-fluid" ng-controller="LogsController" ng-show="'logs' == currentTab">
        <ng-include src="'views/server/log.html'"></ng-include>
    </div>

    <div class="row-fluid" ng-show="'databases' == currentTab">
        <div class="row-fluid">
            <div class="span12">
                <h3>
                    <i class="icon-tasks"></i>
                    {{ 'general.databases' | i18n }}
                </h3>
                <hr>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span4">
                <table class="table table-striped table-bordered table-hover table-condensed">
                    <thead>
                    <tr>
                        <th></th>
                        <th>{{ 'general.db' | i18n }}</th>

                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="db in databases" ng-click="selectDb(db);" class="pointer"
                        ng-class="{  success : db == dbselected }">
                        <td>
                            <i class="icon-info"></i>
                        </td>
                        <td>{{ db }}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="span8">
                <div class="widget">
                    <div class="widget-title">
                        <div class="widget-caption">
                            <i class="icon-bolt"></i>
                            {{ 'server.db.operations' | i18n }}
                        </div>
                    </div>
                    <div class="widget-body">
                        <svg class="span12" height='400' preserveAspectRatio="none" stackedchart="operationData"></svg>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>