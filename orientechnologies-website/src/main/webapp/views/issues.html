<div class="container-fluid">
  <div class="row">
    <div class="col-md-6">
      <form ng-submit="search()">
        <div class="form-group">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Search" ng-model="query">

            <div class="input-group-addon"><a href="javascript:void(0)" ng-click="clear()"><i
              class="fa fa-times-circle-o"></i></a></div>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-2">
      <a href="#/issues/new" class="btn btn-success">New Issue</a>
    </div>
  </div>
  <div class="row">
    <div class="panel panel-default issues-panel">
      <div class="panel-heading">
        <div class="row">
          <div class="col-md-4">
            <h5>
              Total issues {{pager.totalElements}}
            </h5>
          </div>
          <div class="col-md-8">
            <div class="pull-right">
              <div class="btn-group">
                <button class="btn btn-transparent dropdown-toggle" data-placement="bottom-right" data-animation="none"
                        data-template="views/issues/popover/scopes.html" data-auto-close="1" title="Filter by area"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Area <i
                  class="fa fa-caret-square-o-down"></i></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-transparent " data-placement="bottom-right" data-auto-close="1"
                        data-animation="none"
                        data-template="views/issues/popover/priorities.html" title="{{popover.title}}"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Priority <i
                  class="fa fa-caret-square-o-down"></i></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-transparent" class="btn btn-lg btn-primary" data-auto-close="1"
                        data-placement="bottom-right"
                        data-animation="none" data-template="views/issues/popover/labels.html"
                        title="Filter by label" data-content="{{popover.content}}" data-trigger="click"
                        bs-popover="labelPopover">
                  Labels <i
                  class="fa fa-caret-square-o-down"></i></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-transparent " data-placement="bottom-right" data-auto-close="1"
                        data-animation="none"
                        data-template="views/issues/popover/versions.html" title="Filter by version"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Version <i
                  class="fa fa-caret-square-o-down"></i></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-transparent " data-placement="bottom-right" data-auto-close="1"
                        data-animation="none"
                        data-template="views/issues/popover/milestones.html" title="Filter by milestone"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Milestone <i
                  class="fa fa-caret-square-o-down"></i></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-transparent" data-placement="bottom-right" data-auto-close="1"
                        data-animation="none"
                        data-template="views/issues/popover/assignee.html" title="Filter by assignee"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Assignee <i
                  class="fa fa-caret-square-o-down"></i>
                </button>
              </div>

              <div class="btn-group" ng-show="isMember">
                <button class="btn btn-transparent" data-placement="bottom-right" data-auto-close="1"
                        data-animation="none"
                        data-template="views/issues/popover/clients.html" title="{{popover.title}}"
                        data-content="{{popover.content}}" data-trigger="click" bs-popover>Client <i
                  class="fa fa-caret-square-o-down"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="list-group">
        <div class="list-group-item" ng-repeat="issue in issues">
          <div class="row">
            <div class="col-md-1">
              <div class="col-md-6">
                <input type="checkbox">
              </div>
              <div class="col-md-6">
                <i class="fa fa-check-circle-o" ng-class="'issue-' + issue.state.toLowerCase()"></i>
              </div>
            </div>
            <div class="col-md-7">
              <!--<h5 class="list-group-item-heading"><a href="#issues/{{issue.repository.name}}@{{issue.uuid}}">-->
              <h5 class="list-group-item-heading"><a href="#issues/{{issue.iid}}">
                {{issue.title}}</a>
                <!--<span class="label" ng-repeat="label in issue.labels" style="background-color: #{{label.color}}">{{label.name}}</span>-->
                <span class="label" style="background-color: #{{issue.priority.color}}">{{issue.priority.name}}</span>
                <span class="label label-default">{{issue.scope.name}}</span>
              </h5>

              <p class="issue-info">#{{issue.iid}} <a ng-show="issue.number"
                                                      href="{{githubIssue + '/' + issue.repository.name + '/issues/' + issue.number}}" target="_blank"><span
                class="label label-warning">{{ issue.repository.name + '/' + issue.number }}</span></a>
                opened {{issue.createdAt | fromNow}} by {{issue.user.name}}
                <i ng-show="issue.milestone" class="fa fa-milestoned"> {{ issue.milestone.title }}</i>
                <i ng-show="issue.version" class="fa fa-versioned"> {{ issue.version.title }}</i>
              </p>
            </div>
            <div class="col-md-3 label-column">
              <span class="label" ng-class="{ 'label-dark' : label.color =='ffffff' }" ng-repeat="label in issue.labels"
                    style="background-color: #{{label.color}}">{{label.name}}</span>
            </div>
            <div class="col-md-1">
              <div class="col-md-6">
                <div ng-if="issue.assignee">
                  <avatar dim="20" user="issue.assignee"></avatar>
                </div>
              </div>
              <div class="col-md-6">
                <span class="badge">{{issue.comments}}</span>
              </div>
            </div>
          </div>
        </div>
        <nav class="text-center">
          <ul class="pagination ">

            <li ng-class="{'disabled' : pager.number == 1}">
              <a href="javascript:void(0)" ng-disabled="pager.number == 1" ng-click="changePage(pager.number-1)"><span
                aria-hidden="true">&laquo;</span><span class="sr-only">Previous</span></a></li>
            <li ng-class="{'active' : n == pager.number, 'disabled' : n == null }"
                ng-repeat="n in pager.pages track by $index"><a
              href="javascript:void(0)" ng-click="changePage(n)">{{n || "..."}}</a>
              <!--<li ng-class="{'active' : $index+1 == pager.number }"-->
              <!--ng-repeat="n in getNumber(pager.totalPages) track by $index"><a-->
              <!--href="javascript:void(0)" ng-click="changePage($index+1)">{{$index+1}}</a>-->
            </li>
            <li ng-class="{'disabled' : pager.number == pager.totalPages}"><a href="javascript:void(0)"
                                                                              ng-click="changePage(pager.number+1)"><span
              aria-hidden="true">&raquo;</span><span class="sr-only">Next</span></a></li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
